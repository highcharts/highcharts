(async () => {

    const topology = await fetch(
        'https://code.highcharts.com/mapdata/countries/si/si-all.topo.json'
    ).then(response => response.json());

    // Prepare demo data. The data is joined to map using value of 'hc-key'
    // property by default. See API docs for 'joinBy' for more info on linking
    // data and map.
    const data = [
        ['si-165', 10], ['si-066', 11], ['si-065', 12], ['si-038', 13],
        ['si-035', 14], ['si-050', 15], ['si-090', 16], ['si-040', 17],
        ['si-053', 18], ['si-041', 19], ['si-131', 20], ['si-192', 21],
        ['si-163', 22], ['si-074', 23], ['si-180', 24], ['si-016', 25],
        ['si-003', 26], ['si-207', 27], ['si-102', 28], ['si-012', 29],
        ['si-043', 30], ['si-095', 31], ['si-052', 32], ['si-082', 33],
        ['si-004', 34], ['si-006', 35], ['si-046', 36], ['si-128', 37],
        ['si-007', 38], ['si-044', 39], ['si-084', 40], ['si-183', 41],
        ['si-001', 42], ['si-049', 43], ['si-075', 44], ['si-201', 45],
        ['si-111', 46], ['si-036', 47], ['si-136', 48], ['si-014', 49],
        ['si-027', 50], ['si-146', 51], ['si-019', 52], ['si-064', 53],
        ['si-091', 54], ['si-094', 55], ['si-140', 56], ['si-008', 57],
        ['si-021', 58], ['si-162', 59], ['si-208', 60], ['si-071', 61],
        ['si-122', 62], ['si-164', 63], ['si-138', 64], ['si-117', 65],
        ['si-023', 66], ['si-072', 67], ['si-186', 68], ['si-022', 69],
        ['si-068', 70], ['si-077', 71], ['si-030', 72], ['si-062', 73],
        ['si-067', 74], ['si-209', 75], ['si-079', 76], ['si-083', 77],
        ['si-189', 78], ['si-126', 79], ['si-151', 80], ['si-174', 81],
        ['si-184', 82], ['si-061', 83], ['si-173', 84], ['si-112', 85],
        ['si-133', 86], ['si-125', 87], ['si-025', 88], ['si-175', 89],
        ['si-103', 90], ['si-081', 91], ['si-101', 92], ['si-141', 93],
        ['si-167', 94], ['si-093', 95], ['si-177', 96], ['si-108', 97],
        ['si-178', 98], ['si-011', 99], ['si-155', 100], ['si-076', 101],
        ['si-137', 102], ['si-139', 103], ['si-190', 104], ['si-171', 105],
        ['si-113', 106], ['si-114', 107], ['si-144', 108], ['si-198', 109],
        ['si-200', 110], ['si-045', 111], ['si-069', 112], ['si-160', 113],
        ['si-169', 114], ['si-098', 115], ['si-115', 116], ['si-055', 117],
        ['si-070', 118], ['si-089', 119], ['si-118', 120], ['si-195', 121],
        ['si-029', 122], ['si-100', 123], ['si-181', 124], ['si-148', 125],
        ['si-204', 126], ['si-182', 127], ['si-210', 128], ['si-018', 129],
        ['si-026', 130], ['si-096', 131], ['si-185', 132], ['si-159', 133],
        ['si-024', 134], ['si-168', 135], ['si-042', 136], ['si-205', 137],
        ['si-153', 138], ['si-116', 139], ['si-166', 140], ['si-188', 141],
        ['si-002', 142], ['si-080', 143], ['si-086', 144], ['si-132', 145],
        ['si-187', 146], ['si-158', 147], ['si-097', 148], ['si-152', 149],
        ['si-105', 150], ['si-010', 151], ['si-031', 152], ['si-161', 153],
        ['si-056', 154], ['si-033', 155], ['si-156', 156], ['si-047', 157],
        ['si-078', 158], ['si-059', 159], ['si-120', 160], ['si-124', 161],
        ['si-154', 162], ['si-057', 163], ['si-127', 164], ['si-051', 165],
        ['si-199', 166], ['si-110', 167], ['si-211', 168], ['si-206', 169],
        ['si-034', 170], ['si-129', 171], ['si-142', 172], ['si-060', 173],
        ['si-099', 174], ['si-194', 175], ['si-170', 176], ['si-212', 177],
        ['si-130', 178], ['si-157', 179], ['si-109', 180], ['si-203', 181],
        ['si-193', 182], ['si-147', 183], ['si-020', 184], ['si-032', 185],
        ['si-037', 186], ['si-123', 187], ['si-104', 188], ['si-179', 189],
        ['si-134', 190], ['si-150', 191], ['si-005', 192], ['si-013', 193],
        ['si-058', 194], ['si-039', 195], ['si-149', 196], ['si-009', 197],
        ['si-196', 198], ['si-028', 199], ['si-197', 200], ['si-048', 201],
        ['si-054', 202], ['si-063', 203], ['si-073', 204], ['si-085', 205],
        ['si-087', 206], ['si-088', 207], ['si-172', 208], ['si-092', 209],
        ['si-176', 210], ['si-107', 211], ['si-106', 212], ['si-202', 213],
        ['si-135', 214], ['si-143', 215], ['si-015', 216], ['si-017', 217],
        ['si-119', 218], ['si-121', 219], ['si-191', 220], ['si-213', 221]
    ];

    // Create the chart
    Highcharts.mapChart('container', {
        chart: {
            map: topology
        },

        title: {
            text: 'Highcharts Maps basic demo'
        },

        subtitle: {
            text: 'Source map: <a href="https://code.highcharts.com/mapdata/countries/si/si-all.topo.json">Slovenia</a>'
        },

        mapNavigation: {
            enabled: true,
            buttonOptions: {
                verticalAlign: 'bottom'
            }
        },

        colorAxis: {
            min: 0
        },

        series: [{
            data: data,
            name: 'Random data',
            states: {
                hover: {
                    color: '#BADA55'
                }
            },
            dataLabels: {
                enabled: true,
                format: '{point.name}'
            }
        }]
    });

})();
