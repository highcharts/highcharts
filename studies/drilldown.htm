<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Highcharts Drilldown Study</title>
		
		
		<!-- 1. Add these JavaScript inclusions in the head of your page -->
		<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
		<script type="text/javascript" src="http://code.highcharts.com/highcharts.js"></script>
		
		
		<!-- 2. Add the JavaScript to initialize the chart on document ready -->
		<script type="text/javascript">
			
		// Define the original, full data
		var data = $.map([
			0.83, 0.84, 0.83, 0.82, 0.78, 0.79, 0.79, 0.78, 0.79, 0.79, 0.78, 
			0.76, 0.77, 0.77, 0.76, 0.74, 0.74, 0.75, 0.73, 0.73, 0.72, 0.7, 0.68, 
			0.69, 0.68, 0.68, 0.65, 0.63, 0.64, 0.64, 0.63, 0.67, 0.69, 0.75, 0.79,
			0.79, 0.74
		], function(value, i) { // increase by one month
			return {
				x: Date.UTC(2006, i, 1),
				y: value
			}
		});
			
		// The selection event handler
		function selection(event) {
			var chart = this;
			
			if (event.xAxis) {
				var xAxis = event.xAxis[0],
				min = xAxis.min,
				max = xAxis.max;
				
				// indicate to the user that something's going on
				chart.showLoading();
				
				// request the data - see http://api.jquery.com/jQuery.get/
				$.get('drilldown-data.php', {
					min: Math.round(min),
					max: Math.round(max)
				}, function(drillDownData) {
					onGetNewData(chart, drillDownData);				
				}, 'json');
				
				return false;
			}

		}
		
		// Add the new data and display a link to revert
		function onGetNewData(chart, drillDownData) {

			// set the first series' data
			chart.series[0].setData(drillDownData);
			chart.hideLoading();
					
			// use jQuery HTML capabilities to add a button to reset the selection 
			chart.$resetButton = $('<button>Reset view</button>')
				.css({
					position: 'absolute',
					top: '20px',
					right: '50px',
					zIndex: 50
				})
				.click(function() {
					resetSelection(chart)
				})
				.appendTo(chart.container);
		}
		
		// Reset to normal view
		function resetSelection(chart) {
			chart.series[0].setData(data);
			chart.$resetButton.remove();
		}
			
		// Generate the chart on DOM ready
		$(document).ready(function() {
			var options = {
				chart: {
					renderTo: 'container',
					zoomType: 'x',
					defaultSeriesType: 'areaspline',
					events: {
						selection: selection
					}
				},
			        title: {
					text: 'USD to EUR exchange rate from 2006 through 2008'
				},
			        subtitle: {
					text: 'Click and drag in the plot area to zoom in'
				},
				xAxis: {
					type: 'datetime',
					maxZoom: 14 * 24 * 3600000, // fourteen days
					title: {
						text: null
					}
				},
				yAxis: {
					title: {
						text: 'Exchange rate'
					},
					min: 0.6,
					startOnTick: false,
					showFirstLabel: false
				},
				tooltip: {
					formatter: function() {
						return '<b>'+ (this.point.name || this.series.name) +'</b><br/>'+
							Highcharts.dateFormat('%A %B %e %Y', this.x) + ':<br/>'+
							'1 USD = '+ Highcharts.numberFormat(this.y, 2) +' EUR';
					}
				},
				legend: {
					enabled: false
				},
				plotOptions: {
					series: {
						fillColor: {
							linearGradient: [0, 0, 0, 300],
							stops: [
								[0, '#4572A7'],
								[1, 'rgba(0,0,0,0)']
							]
						},
						lineWidth: 1,
						marker: {
							enabled: false,
							states: {
								hover: {
									enabled: true,
									radius: 3
								}
							}
						},
						shadow: false,
						states: {
							hover: {
								lineWidth: 1						
							}
						}
					}
				},
			
				series: [{
					name: 'USD to EUR',
					data: data
				}]
			};
			
			var chart = new Highcharts.Chart(options);
			
		});
		</script>
		
	</head>
	<body>
		<div style="width: 800px; margin: 0 auto">
		
		<!-- 3. Add the container -->
		<div id="container" style="height: 400px"></div>
		
		<h1>Highcharts Drilldown Study</h1>
		<p>When the user clicks and drags to mark a selection on the x axis, 
		the default zoom operation is cancelled, and instead an Ajax request
		is sent to the server for new, higher resolution data within the selected area.</p>
		<p>Below is the contents of the file drilldown-data.php. In most real world
		cases the data would be fetched from a database with a query to select all
		values between <code>min</code> and <code>max</code>.</p>
		<pre style="border: 1px solid silver; height: 300px; overflow: auto">&lt;?php
$data = array(
	1136073600 => 0.8446,
	1136160000 => 0.8445,
	1136246400 => 0.8444,
	1136332800 => 0.8451,
	1136419200 => 0.8418,
	1136505600 => 0.8264,
	1136592000 => 0.8258,
	1136678400 => 0.8232,
	1136764800 => 0.8233,
	1136851200 => 0.8258,
	1136937600 => 0.8283,
	1137024000 => 0.8278,
	1137110400 => 0.8256,
	1137196800 => 0.8292,
	1137283200 => 0.8239,
	1137369600 => 0.8239,
	1137456000 => 0.8245,
	1137542400 => 0.8265,
	1137628800 => 0.8261,
	1137715200 => 0.8269,
	1137801600 => 0.8273,
	1137888000 => 0.8244,
	1137974400 => 0.8244,
	1138060800 => 0.8172,
	1138147200 => 0.8139,
	1138233600 => 0.8146,
	1138320000 => 0.8164,
	1138406400 => 0.82,
	1138492800 => 0.8269,
	1138579200 => 0.8269,
	1138665600 => 0.8269,
	1138752000 => 0.8258,
	1138838400 => 0.8247,
	1138924800 => 0.8286,
	1139011200 => 0.8289,
	1139097600 => 0.8316,
	1139184000 => 0.832,
	1139270400 => 0.8333,
	1139356800 => 0.8352,
	1139443200 => 0.8357,
	1139529600 => 0.8355,
	1139616000 => 0.8354,
	1139702400 => 0.8403,
	1139788800 => 0.8403,
	1139875200 => 0.8406,
	1139961600 => 0.8403,
	1140048000 => 0.8396,
	1140134400 => 0.8418,
	1140220800 => 0.8409,
	1140307200 => 0.8384,
	1140393600 => 0.8386,
	1140480000 => 0.8372,
	1140566400 => 0.839,
	1140652800 => 0.84,
	1140739200 => 0.8389,
	1140825600 => 0.84,
	1140912000 => 0.8423,
	1140998400 => 0.8423,
	1141084800 => 0.8435,
	1141171200 => 0.8422,
	1141257600 => 0.838,
	1141344000 => 0.8373,
	1141430400 => 0.8316,
	1141516800 => 0.8303,
	1141603200 => 0.8303,
	1141689600 => 0.8302,
	1141776000 => 0.8369,
	1141862400 => 0.84,
	1141948800 => 0.8385,
	1142035200 => 0.84,
	1142121600 => 0.8401,
	1142208000 => 0.8402,
	1142294400 => 0.8381,
	1142380800 => 0.8351,
	1142467200 => 0.8314,
	1142553600 => 0.8273,
	1142640000 => 0.8213,
	1142726400 => 0.8207,
	1142812800 => 0.8207,
	1142899200 => 0.8215,
	1142985600 => 0.8242,
	1143072000 => 0.8273,
	1143158400 => 0.8301,
	1143244800 => 0.8346,
	1143331200 => 0.8312,
	1143417600 => 0.8312,
	1143504000 => 0.8312,
	1143590400 => 0.8306,
	1143676800 => 0.8327,
	1143763200 => 0.8282,
	1143849600 => 0.824,
	1143936000 => 0.8255,
	1144022400 => 0.8256,
	1144108800 => 0.8273,
	1144195200 => 0.8209,
	1144281600 => 0.8151,
	1144368000 => 0.8149,
	1144454400 => 0.8213,
	1144540800 => 0.8273,
	1144627200 => 0.8273,
	1144713600 => 0.8261,
	1144800000 => 0.8252,
	1144886400 => 0.824,
	1144972800 => 0.8262,
	1145059200 => 0.8258,
	1145145600 => 0.8261,
	1145232000 => 0.826,
	1145318400 => 0.8199,
	1145404800 => 0.8153,
	1145491200 => 0.8097,
	1145577600 => 0.8101,
	1145664000 => 0.8119,
	1145750400 => 0.8107,
	1145836800 => 0.8105,
	1145923200 => 0.8084,
	1146009600 => 0.8069,
	1146096000 => 0.8047,
	1146182400 => 0.8023,
	1146268800 => 0.7965,
	1146355200 => 0.7919,
	1146441600 => 0.7921,
	1146528000 => 0.7922,
	1146614400 => 0.7934,
	1146700800 => 0.7918,
	1146787200 => 0.7915,
	1146873600 => 0.787,
	1146960000 => 0.7861,
	1147046400 => 0.7861,
	1147132800 => 0.7853,
	1147219200 => 0.7867,
	1147305600 => 0.7827,
	1147392000 => 0.7834,
	1147478400 => 0.7766,
	1147564800 => 0.7751,
	1147651200 => 0.7739,
	1147737600 => 0.7767,
	1147824000 => 0.7802,
	1147910400 => 0.7788,
	1147996800 => 0.7828,
	1148083200 => 0.7816,
	1148169600 => 0.7829,
	1148256000 => 0.783,
	1148342400 => 0.7829,
	1148428800 => 0.7781,
	1148515200 => 0.7811,
	1148601600 => 0.7831,
	1148688000 => 0.7826,
	1148774400 => 0.7855,
	1148860800 => 0.7855,
	1148947200 => 0.7845,
	1149033600 => 0.7798,
	1149120000 => 0.7777,
	1149206400 => 0.7822,
	1149292800 => 0.7785,
	1149379200 => 0.7744,
	1149465600 => 0.7743,
	1149552000 => 0.7726,
	1149638400 => 0.7766,
	1149724800 => 0.7806,
	1149811200 => 0.785,
	1149897600 => 0.7907,
	1149984000 => 0.7912,
	1150070400 => 0.7913,
	1150156800 => 0.7931,
	1150243200 => 0.7952,
	1150329600 => 0.7951,
	1150416000 => 0.7928,
	1150502400 => 0.791,
	1150588800 => 0.7913,
	1150675200 => 0.7912,
	1150761600 => 0.7941,
	1150848000 => 0.7953,
	1150934400 => 0.7921,
	1151020800 => 0.7919,
	1151107200 => 0.7968,
	1151193600 => 0.7999,
	1151280000 => 0.7999,
	1151366400 => 0.7974,
	1151452800 => 0.7942,
	1151539200 => 0.796,
	1151625600 => 0.7969,
	1151712000 => 0.7862,
	1151798400 => 0.7821,
	1151884800 => 0.7821,
	1151971200 => 0.7821,
	1152057600 => 0.7811,
	1152144000 => 0.7833,
	1152230400 => 0.7849,
	1152316800 => 0.7819,
	1152403200 => 0.7809,
	1152489600 => 0.7809,
	1152576000 => 0.7827,
	1152662400 => 0.7848,
	1152748800 => 0.785,
	1152835200 => 0.7873,
	1152921600 => 0.7894,
	1153008000 => 0.7907,
	1153094400 => 0.7909,
	1153180800 => 0.7947,
	1153267200 => 0.7987,
	1153353600 => 0.799,
	1153440000 => 0.7927,
	1153526400 => 0.79,
	1153612800 => 0.7878,
	1153699200 => 0.7878,
	1153785600 => 0.7907,
	1153872000 => 0.7922,
	1153958400 => 0.7937,
	1154044800 => 0.786,
	1154131200 => 0.787,
	1154217600 => 0.7838,
	1154304000 => 0.7838,
	1154390400 => 0.7837,
	1154476800 => 0.7836,
	1154563200 => 0.7806,
	1154649600 => 0.7825,
	1154736000 => 0.7798,
	1154822400 => 0.777,
	1154908800 => 0.777,
	1154995200 => 0.7772,
	1155081600 => 0.7793,
	1155168000 => 0.7788,
	1155254400 => 0.7785,
	1155340800 => 0.7832,
	1155427200 => 0.7865,
	1155513600 => 0.7865,
	1155600000 => 0.7853,
	1155686400 => 0.7847,
	1155772800 => 0.7809,
	1155859200 => 0.778,
	1155945600 => 0.7799,
	1156032000 => 0.78,
	1156118400 => 0.7801,
	1156204800 => 0.7765,
	1156291200 => 0.7785,
	1156377600 => 0.7811,
	1156464000 => 0.782,
	1156550400 => 0.7835,
	1156636800 => 0.7845,
	1156723200 => 0.7844,
	1156809600 => 0.782,
	1156896000 => 0.7811,
	1156982400 => 0.7795,
	1157068800 => 0.7794,
	1157155200 => 0.7806,
	1157241600 => 0.7794,
	1157328000 => 0.7794,
	1157414400 => 0.7778,
	1157500800 => 0.7793,
	1157587200 => 0.7808,
	1157673600 => 0.7824,
	1157760000 => 0.787,
	1157846400 => 0.7894,
	1157932800 => 0.7893,
	1158019200 => 0.7882,
	1158105600 => 0.7871,
	1158192000 => 0.7882,
	1158278400 => 0.7871,
	1158364800 => 0.7878,
	1158451200 => 0.79,
	1158537600 => 0.7901,
	1158624000 => 0.7898,
	1158710400 => 0.7879,
	1158796800 => 0.7886,
	1158883200 => 0.7858,
	1158969600 => 0.7814,
	1159056000 => 0.7825,
	1159142400 => 0.7826,
	1159228800 => 0.7826,
	1159315200 => 0.786,
	1159401600 => 0.7878,
	1159488000 => 0.7868,
	1159574400 => 0.7883,
	1159660800 => 0.7893,
	1159747200 => 0.7892,
	1159833600 => 0.7876,
	1159920000 => 0.785,
	1160006400 => 0.787,
	1160092800 => 0.7873,
	1160179200 => 0.7901,
	1160265600 => 0.7936,
	1160352000 => 0.7939,
	1160438400 => 0.7938,
	1160524800 => 0.7956,
	1160611200 => 0.7975,
	1160697600 => 0.7978,
	1160784000 => 0.7972,
	1160870400 => 0.7995,
	1160956800 => 0.7995,
	1161043200 => 0.7994,
	1161129600 => 0.7976,
	1161216000 => 0.7977,
	1161302400 => 0.796,
	1161388800 => 0.7922,
	1161475200 => 0.7928,
	1161561600 => 0.7929,
	1161648000 => 0.7948,
	1161734400 => 0.797,
	1161820800 => 0.7953,
	1161907200 => 0.7907,
	1161993600 => 0.7872,
	1162080000 => 0.7852,
	1162166400 => 0.7852,
	1162252800 => 0.786,
	1162339200 => 0.7862,
	1162425600 => 0.7836,
	1162512000 => 0.7837,
	1162598400 => 0.784,
	1162684800 => 0.7867,
	1162771200 => 0.7867,
	1162857600 => 0.7869,
	1162944000 => 0.7837,
	1163030400 => 0.7827,
	1163116800 => 0.7825,
	1163203200 => 0.7779,
	1163289600 => 0.7791,
	1163376000 => 0.779,
	1163462400 => 0.7787,
	1163548800 => 0.78,
	1163635200 => 0.7807,
	1163721600 => 0.7803,
	1163808000 => 0.7817,
	1163894400 => 0.7799,
	1163980800 => 0.7799,
	1164067200 => 0.7795,
	1164153600 => 0.7801,
	1164240000 => 0.7765,
	1164326400 => 0.7725,
	1164412800 => 0.7683,
	1164499200 => 0.7641,
	1164585600 => 0.7639,
	1164672000 => 0.7616,
	1164758400 => 0.7608,
	1164844800 => 0.759,
	1164931200 => 0.7582,
	1165017600 => 0.7539,
	1165104000 => 0.75,
	1165190400 => 0.75,
	1165276800 => 0.7507,
	1165363200 => 0.7505,
	1165449600 => 0.7516,
	1165536000 => 0.7522,
	1165622400 => 0.7531,
	1165708800 => 0.7577,
	1165795200 => 0.7577,
	1165881600 => 0.7582,
	1165968000 => 0.755,
	1166054400 => 0.7542,
	1166140800 => 0.7576,
	1166227200 => 0.7616,
	1166313600 => 0.7648,
	1166400000 => 0.7648,
	1166486400 => 0.7641,
	1166572800 => 0.7614,
	1166659200 => 0.757,
	1166745600 => 0.7587,
	1166832000 => 0.7588,
	1166918400 => 0.762,
	1167004800 => 0.762,
	1167091200 => 0.7617,
	1167177600 => 0.7618,
	1167264000 => 0.7615,
	1167350400 => 0.7612,
	1167436800 => 0.7596,
	1167523200 => 0.758,
	1167609600 => 0.758,
	1167696000 => 0.758,
	1167782400 => 0.7547,
	1167868800 => 0.7549,
	1167955200 => 0.7613,
	1168041600 => 0.7655,
	1168128000 => 0.7693,
	1168214400 => 0.7694,
	1168300800 => 0.7688,
	1168387200 => 0.7678,
	1168473600 => 0.7708,
	1168560000 => 0.7727,
	1168646400 => 0.7749,
	1168732800 => 0.7741,
	1168819200 => 0.7741,
	1168905600 => 0.7732,
	1168992000 => 0.7727,
	1169078400 => 0.7737,
	1169164800 => 0.7724,
	1169251200 => 0.7712,
	1169337600 => 0.772,
	1169424000 => 0.7721,
	1169510400 => 0.7717,
	1169596800 => 0.7704,
	1169683200 => 0.769,
	1169769600 => 0.7711,
	1169856000 => 0.774,
	1169942400 => 0.7745,
	1170028800 => 0.7745,
	1170115200 => 0.774,
	1170201600 => 0.7716,
	1170288000 => 0.7713,
	1170374400 => 0.7678,
	1170460800 => 0.7688,
	1170547200 => 0.7718,
	1170633600 => 0.7718,
	1170720000 => 0.7728,
	1170806400 => 0.7729,
	1170892800 => 0.7698,
	1170979200 => 0.7685,
	1171065600 => 0.7681,
	1171152000 => 0.769,
	1171238400 => 0.769,
	1171324800 => 0.7698,
	1171411200 => 0.7699,
	1171497600 => 0.7651,
	1171584000 => 0.7613,
	1171670400 => 0.7616,
	1171756800 => 0.7614,
	1171843200 => 0.7614,
	1171929600 => 0.7607,
	1172016000 => 0.7602,
	1172102400 => 0.7611,
	1172188800 => 0.7622,
	1172275200 => 0.7615,
	1172361600 => 0.7598,
	1172448000 => 0.7598,
	1172534400 => 0.7592,
	1172620800 => 0.7573,
	1172707200 => 0.7566,
	1172793600 => 0.7567,
	1172880000 => 0.7591,
	1172966400 => 0.7582,
	1173052800 => 0.7585,
	1173139200 => 0.7613,
	1173225600 => 0.7631,
	1173312000 => 0.7615,
	1173398400 => 0.76,
	1173484800 => 0.7613,
	1173571200 => 0.7627,
	1173657600 => 0.7627,
	1173744000 => 0.7608,
	1173830400 => 0.7583,
	1173916800 => 0.7575,
	1174003200 => 0.7562,
	1174089600 => 0.752,
	1174176000 => 0.7512,
	1174262400 => 0.7512,
	1174348800 => 0.7517,
	1174435200 => 0.752,
	1174521600 => 0.7511,
	1174608000 => 0.748,
	1174694400 => 0.7509,
	1174780800 => 0.7531,
	1174867200 => 0.7531,
	1174953600 => 0.7527,
	1175040000 => 0.7498,
	1175126400 => 0.7493,
	1175212800 => 0.7504,
	1175299200 => 0.75,
	1175385600 => 0.7491,
	1175472000 => 0.7491,
	1175558400 => 0.7485,
	1175644800 => 0.7484,
	1175731200 => 0.7492,
	1175817600 => 0.7471,
	1175904000 => 0.7459,
	1175990400 => 0.7477,
	1176076800 => 0.7477,
	1176163200 => 0.7483,
	1176249600 => 0.7458,
	1176336000 => 0.7448,
	1176422400 => 0.743,
	1176508800 => 0.7399,
	1176595200 => 0.7395,
	1176681600 => 0.7395,
	1176768000 => 0.7378,
	1176854400 => 0.7382,
	1176940800 => 0.7362,
	1177027200 => 0.7355,
	1177113600 => 0.7348,
	1177200000 => 0.7361,
	1177286400 => 0.7361,
	1177372800 => 0.7365,
	1177459200 => 0.7362,
	1177545600 => 0.7331,
	1177632000 => 0.7339,
	1177718400 => 0.7344,
	1177804800 => 0.7327,
	1177891200 => 0.7327,
	1177977600 => 0.7336,
	1178064000 => 0.7333,
	1178150400 => 0.7359,
	1178236800 => 0.7359,
	1178323200 => 0.7372,
	1178409600 => 0.736,
	1178496000 => 0.736,
	1178582400 => 0.735,
	1178668800 => 0.7365,
	1178755200 => 0.7384,
	1178841600 => 0.7395,
	1178928000 => 0.7413,
	1179014400 => 0.7397,
	1179100800 => 0.7396,
	1179187200 => 0.7385,
	1179273600 => 0.7378,
	1179360000 => 0.7366,
	1179446400 => 0.74,
	1179532800 => 0.7411,
	1179619200 => 0.7406,
	1179705600 => 0.7405,
	1179792000 => 0.7414,
	1179878400 => 0.7431,
	1179964800 => 0.7431,
	1180051200 => 0.7438,
	1180137600 => 0.7443,
	1180224000 => 0.7443,
	1180310400 => 0.7443,
	1180396800 => 0.7434,
	1180483200 => 0.7429,
	1180569600 => 0.7442,
	1180656000 => 0.744,
	1180742400 => 0.7439,
	1180828800 => 0.7437,
	1180915200 => 0.7437,
	1181001600 => 0.7429,
	1181088000 => 0.7403,
	1181174400 => 0.7399,
	1181260800 => 0.7418,
	1181347200 => 0.7468,
	1181433600 => 0.748,
	1181520000 => 0.748,
	1181606400 => 0.749,
	1181692800 => 0.7494,
	1181779200 => 0.7522,
	1181865600 => 0.7515,
	1181952000 => 0.7502,
	1182038400 => 0.7472,
	1182124800 => 0.7472,
	1182211200 => 0.7462,
	1182297600 => 0.7455,
	1182384000 => 0.7449,
	1182470400 => 0.7467,
	1182556800 => 0.7458,
	1182643200 => 0.7427,
	1182729600 => 0.7427,
	1182816000 => 0.743,
	1182902400 => 0.7429,
	1182988800 => 0.744,
	1183075200 => 0.743,
	1183161600 => 0.7422,
	1183248000 => 0.7388,
	1183334400 => 0.7388,
	1183420800 => 0.7369,
	1183507200 => 0.7345,
	1183593600 => 0.7345,
	1183680000 => 0.7345,
	1183766400 => 0.7352,
	1183852800 => 0.7341,
	1183939200 => 0.7341,
	1184025600 => 0.734,
	1184112000 => 0.7324,
	1184198400 => 0.7272,
	1184284800 => 0.7264,
	1184371200 => 0.7255,
	1184457600 => 0.7258,
	1184544000 => 0.7258,
	1184630400 => 0.7256,
	1184716800 => 0.7257,
	1184803200 => 0.7247,
	1184889600 => 0.7243,
	1184976000 => 0.7244,
	1185062400 => 0.7235,
	1185148800 => 0.7235,
	1185235200 => 0.7235,
	1185321600 => 0.7235,
	1185408000 => 0.7262,
	1185494400 => 0.7288,
	1185580800 => 0.7301,
	1185667200 => 0.7337,
	1185753600 => 0.7337,
	1185840000 => 0.7324,
	1185926400 => 0.7297,
	1186012800 => 0.7317,
	1186099200 => 0.7315,
	1186185600 => 0.7288,
	1186272000 => 0.7263,
	1186358400 => 0.7263,
	1186444800 => 0.7242,
	1186531200 => 0.7253,
	1186617600 => 0.7264,
	1186704000 => 0.727,
	1186790400 => 0.7312,
	1186876800 => 0.7305,
	1186963200 => 0.7305,
	1187049600 => 0.7318,
	1187136000 => 0.7358,
	1187222400 => 0.7409,
	1187308800 => 0.7454,
	1187395200 => 0.7437,
	1187481600 => 0.7424,
	1187568000 => 0.7424,
	1187654400 => 0.7415,
	1187740800 => 0.7419,
	1187827200 => 0.7414,
	1187913600 => 0.7377,
	1188000000 => 0.7355,
	1188086400 => 0.7315,
	1188172800 => 0.7315,
	1188259200 => 0.732,
	1188345600 => 0.7332,
	1188432000 => 0.7346,
	1188518400 => 0.7328,
	1188604800 => 0.7323,
	1188691200 => 0.734,
	1188777600 => 0.734,
	1188864000 => 0.7336,
	1188950400 => 0.7351,
	1189036800 => 0.7346,
	1189123200 => 0.7321,
	1189209600 => 0.7294,
	1189296000 => 0.7266,
	1189382400 => 0.7266,
	1189468800 => 0.7254,
	1189555200 => 0.7242,
	1189641600 => 0.7213,
	1189728000 => 0.7197,
	1189814400 => 0.7209,
	1189900800 => 0.721,
	1189987200 => 0.721,
	1190073600 => 0.721,
	1190160000 => 0.7209,
	1190246400 => 0.7159,
	1190332800 => 0.7133,
	1190419200 => 0.7105,
	1190505600 => 0.7099,
	1190592000 => 0.7099,
	1190678400 => 0.7093,
	1190764800 => 0.7093,
	1190851200 => 0.7076,
	1190937600 => 0.707,
	1191024000 => 0.7049,
	1191110400 => 0.7012,
	1191196800 => 0.7011,
	1191283200 => 0.7019,
	1191369600 => 0.7046,
	1191456000 => 0.7063,
	1191542400 => 0.7089,
	1191628800 => 0.7077,
	1191715200 => 0.7077,
	1191801600 => 0.7077,
	1191888000 => 0.7091,
	1191974400 => 0.7118,
	1192060800 => 0.7079,
	1192147200 => 0.7053,
	1192233600 => 0.705,
	1192320000 => 0.7055,
	1192406400 => 0.7055,
	1192492800 => 0.7045,
	1192579200 => 0.7051,
	1192665600 => 0.7051,
	1192752000 => 0.7017,
	1192838400 => 0.7,
	1192924800 => 0.6995,
	1193011200 => 0.6994,
	1193097600 => 0.7014,
	1193184000 => 0.7036,
	1193270400 => 0.7021,
	1193356800 => 0.7002,
	1193443200 => 0.6967,
	1193529600 => 0.695,
	1193616000 => 0.695,
	1193702400 => 0.6939,
	1193788800 => 0.694,
	1193875200 => 0.6922,
	1193961600 => 0.6919,
	1194048000 => 0.6914,
	1194134400 => 0.6894,
	1194220800 => 0.6891,
	1194307200 => 0.6904,
	1194393600 => 0.689,
	1194480000 => 0.6834,
	1194566400 => 0.6823,
	1194652800 => 0.6807,
	1194739200 => 0.6815,
	1194825600 => 0.6815,
	1194912000 => 0.6847,
	1194998400 => 0.6859,
	1195084800 => 0.6822,
	1195171200 => 0.6827,
	1195257600 => 0.6837,
	1195344000 => 0.6823,
	1195430400 => 0.6822,
	1195516800 => 0.6822,
	1195603200 => 0.6792,
	1195689600 => 0.6746,
	1195776000 => 0.6735,
	1195862400 => 0.6731,
	1195948800 => 0.6742,
	1196035200 => 0.6744,
	1196121600 => 0.6739,
	1196208000 => 0.6731,
	1196294400 => 0.6761,
	1196380800 => 0.6761,
	1196467200 => 0.6785,
	1196553600 => 0.6818,
	1196640000 => 0.6836,
	1196726400 => 0.6823,
	1196812800 => 0.6805,
	1196899200 => 0.6793,
	1196985600 => 0.6849,
	1197072000 => 0.6833,
	1197158400 => 0.6825,
	1197244800 => 0.6825,
	1197331200 => 0.6816,
	1197417600 => 0.6799,
	1197504000 => 0.6813,
	1197590400 => 0.6809,
	1197676800 => 0.6868,
	1197763200 => 0.6933,
	1197849600 => 0.6933,
	1197936000 => 0.6945,
	1198022400 => 0.6944,
	1198108800 => 0.6946,
	1198195200 => 0.6964,
	1198281600 => 0.6965,
	1198368000 => 0.6956,
	1198454400 => 0.6956,
	1198540800 => 0.695,
	1198627200 => 0.6948,
	1198713600 => 0.6928,
	1198800000 => 0.6887,
	1198886400 => 0.6824,
	1198972800 => 0.6794,
	1199059200 => 0.6794,
	1199145600 => 0.6803,
	1199232000 => 0.6855,
	1199318400 => 0.6824,
	1199404800 => 0.6791,
	1199491200 => 0.6783,
	1199577600 => 0.6785,
	1199664000 => 0.6785,
	1199750400 => 0.6797,
	1199836800 => 0.68,
	1199923200 => 0.6803,
	1200009600 => 0.6805,
	1200096000 => 0.676,
	1200182400 => 0.677,
	1200268800 => 0.677,
	1200355200 => 0.6736,
	1200441600 => 0.6726,
	1200528000 => 0.6764,
	1200614400 => 0.6821,
	1200700800 => 0.6831,
	1200787200 => 0.6842,
	1200873600 => 0.6842,
	1200960000 => 0.6887,
	1201046400 => 0.6903,
	1201132800 => 0.6848,
	1201219200 => 0.6824,
	1201305600 => 0.6788,
	1201392000 => 0.6814,
	1201478400 => 0.6814,
	1201564800 => 0.6797,
	1201651200 => 0.6769,
	1201737600 => 0.6765,
	1201824000 => 0.6733,
	1201910400 => 0.6729,
	1201996800 => 0.6758,
	1202083200 => 0.6758,
	1202169600 => 0.675,
	1202256000 => 0.678,
	1202342400 => 0.6833,
	1202428800 => 0.6856,
	1202515200 => 0.6903,
	1202601600 => 0.6896,
	1202688000 => 0.6896,
	1202774400 => 0.6882,
	1202860800 => 0.6879,
	1202947200 => 0.6862,
	1203033600 => 0.6852,
	1203120000 => 0.6823,
	1203206400 => 0.6813,
	1203292800 => 0.6813,
	1203379200 => 0.6822,
	1203465600 => 0.6802,
	1203552000 => 0.6802,
	1203638400 => 0.6784,
	1203724800 => 0.6748,
	1203811200 => 0.6747,
	1203897600 => 0.6747,
	1203984000 => 0.6748,
	1204070400 => 0.6733,
	1204156800 => 0.665,
	1204243200 => 0.6611,
	1204329600 => 0.6583,
	1204416000 => 0.659,
	1204502400 => 0.659,
	1204588800 => 0.6581,
	1204675200 => 0.6578,
	1204761600 => 0.6574,
	1204848000 => 0.6532,
	1204934400 => 0.6502,
	1205020800 => 0.6514,
	1205107200 => 0.6514,
	1205193600 => 0.6507,
	1205280000 => 0.651,
	1205366400 => 0.6489,
	1205452800 => 0.6424,
	1205539200 => 0.6406,
	1205625600 => 0.6382,
	1205712000 => 0.6382,
	1205798400 => 0.6341,
	1205884800 => 0.6344,
	1205971200 => 0.6378,
	1206057600 => 0.6439,
	1206144000 => 0.6478,
	1206230400 => 0.6481,
	1206316800 => 0.6481,
	1206403200 => 0.6494,
	1206489600 => 0.6438,
	1206576000 => 0.6377,
	1206662400 => 0.6329,
	1206748800 => 0.6336,
	1206835200 => 0.6333,
	1206921600 => 0.6333,
	1207008000 => 0.633,
	1207094400 => 0.6371,
	1207180800 => 0.6403,
	1207267200 => 0.6396,
	1207353600 => 0.6364,
	1207440000 => 0.6356,
	1207526400 => 0.6356,
	1207612800 => 0.6368,
	1207699200 => 0.6357,
	1207785600 => 0.6354,
	1207872000 => 0.632,
	1207958400 => 0.6332,
	1208044800 => 0.6328,
	1208131200 => 0.6331,
	1208217600 => 0.6342,
	1208304000 => 0.6321,
	1208390400 => 0.6302,
	1208476800 => 0.6278,
	1208563200 => 0.6308,
	1208649600 => 0.6324,
	1208736000 => 0.6324,
	1208822400 => 0.6307,
	1208908800 => 0.6277,
	1208995200 => 0.6269,
	1209081600 => 0.6335,
	1209168000 => 0.6392,
	1209254400 => 0.64,
	1209340800 => 0.6401,
	1209427200 => 0.6396,
	1209513600 => 0.6407,
	1209600000 => 0.6423,
	1209686400 => 0.6429,
	1209772800 => 0.6472,
	1209859200 => 0.6485,
	1209945600 => 0.6486,
	1210032000 => 0.6467,
	1210118400 => 0.6444,
	1210204800 => 0.6467,
	1210291200 => 0.6509,
	1210377600 => 0.6478,
	1210464000 => 0.6461,
	1210550400 => 0.6461,
	1210636800 => 0.6468,
	1210723200 => 0.6449,
	1210809600 => 0.647,
	1210896000 => 0.6461,
	1210982400 => 0.6452,
	1211068800 => 0.6422,
	1211155200 => 0.6422,
	1211241600 => 0.6425,
	1211328000 => 0.6414,
	1211414400 => 0.6366,
	1211500800 => 0.6346,
	1211587200 => 0.635,
	1211673600 => 0.6346,
	1211760000 => 0.6346,
	1211846400 => 0.6343,
	1211932800 => 0.6346,
	1212019200 => 0.6379,
	1212105600 => 0.6416,
	1212192000 => 0.6442,
	1212278400 => 0.6431,
	1212364800 => 0.6431,
	1212451200 => 0.6435,
	1212537600 => 0.644,
	1212624000 => 0.6473,
	1212710400 => 0.6469,
	1212796800 => 0.6386,
	1212883200 => 0.6356,
	1212969600 => 0.634,
	1213056000 => 0.6346,
	1213142400 => 0.643,
	1213228800 => 0.6452,
	1213315200 => 0.6467,
	1213401600 => 0.6506,
	1213488000 => 0.6504,
	1213574400 => 0.6503,
	1213660800 => 0.6481,
	1213747200 => 0.6451,
	1213833600 => 0.645,
	1213920000 => 0.6441,
	1214006400 => 0.6414,
	1214092800 => 0.6409,
	1214179200 => 0.6409,
	1214265600 => 0.6428,
	1214352000 => 0.6431,
	1214438400 => 0.6418,
	1214524800 => 0.6371,
	1214611200 => 0.6349,
	1214697600 => 0.6333,
	1214784000 => 0.6334,
	1214870400 => 0.6338,
	1214956800 => 0.6342,
	1215043200 => 0.632,
	1215129600 => 0.6318,
	1215216000 => 0.637,
	1215302400 => 0.6368,
	1215388800 => 0.6368,
	1215475200 => 0.6383,
	1215561600 => 0.6371,
	1215648000 => 0.6371,
	1215734400 => 0.6355,
	1215820800 => 0.632,
	1215907200 => 0.6277,
	1215993600 => 0.6276,
	1216080000 => 0.6291,
	1216166400 => 0.6274,
	1216252800 => 0.6293,
	1216339200 => 0.6311,
	1216425600 => 0.631,
	1216512000 => 0.6312,
	1216598400 => 0.6312,
	1216684800 => 0.6304,
	1216771200 => 0.6294,
	1216857600 => 0.6348,
	1216944000 => 0.6378,
	1217030400 => 0.6368,
	1217116800 => 0.6368,
	1217203200 => 0.6368,
	1217289600 => 0.636,
	1217376000 => 0.637,
	1217462400 => 0.6418,
	1217548800 => 0.6411,
	1217635200 => 0.6435,
	1217721600 => 0.6427,
	1217808000 => 0.6427,
	1217894400 => 0.6419,
	1217980800 => 0.6446,
	1218067200 => 0.6468,
	1218153600 => 0.6487,
	1218240000 => 0.6594,
	1218326400 => 0.6666,
	1218412800 => 0.6666,
	1218499200 => 0.6678,
	1218585600 => 0.6712,
	1218672000 => 0.6705,
	1218758400 => 0.6718,
	1218844800 => 0.6784,
	1218931200 => 0.6811,
	1219017600 => 0.6811,
	1219104000 => 0.6794,
	1219190400 => 0.6804,
	1219276800 => 0.6781,
	1219363200 => 0.6756,
	1219449600 => 0.6735,
	1219536000 => 0.6763,
	1219622400 => 0.6762,
	1219708800 => 0.6777,
	1219795200 => 0.6815,
	1219881600 => 0.6802,
	1219968000 => 0.678,
	1220054400 => 0.6796,
	1220140800 => 0.6817,
	1220227200 => 0.6817,
	1220313600 => 0.6832,
	1220400000 => 0.6877,
	1220486400 => 0.6912,
	1220572800 => 0.6914,
	1220659200 => 0.7009,
	1220745600 => 0.7012,
	1220832000 => 0.701,
	1220918400 => 0.7005,
	1221004800 => 0.7076,
	1221091200 => 0.7087,
	1221177600 => 0.717,
	1221264000 => 0.7105,
	1221350400 => 0.7031,
	1221436800 => 0.7029,
	1221523200 => 0.7006,
	1221609600 => 0.7035,
	1221696000 => 0.7045,
	1221782400 => 0.6956,
	1221868800 => 0.6988,
	1221955200 => 0.6915,
	1222041600 => 0.6914,
	1222128000 => 0.6859,
	1222214400 => 0.6778,
	1222300800 => 0.6815,
	1222387200 => 0.6815,
	1222473600 => 0.6843,
	1222560000 => 0.6846,
	1222646400 => 0.6846,
	1222732800 => 0.6923,
	1222819200 => 0.6997,
	1222905600 => 0.7098,
	1222992000 => 0.7188,
	1223078400 => 0.7232,
	1223164800 => 0.7262,
	1223251200 => 0.7266,
	1223337600 => 0.7359,
	1223424000 => 0.7368,
	1223510400 => 0.7337,
	1223596800 => 0.7317,
	1223683200 => 0.7387,
	1223769600 => 0.7467,
	1223856000 => 0.7461,
	1223942400 => 0.7366,
	1224028800 => 0.7319,
	1224115200 => 0.7361,
	1224201600 => 0.7437,
	1224288000 => 0.7432,
	1224374400 => 0.7461,
	1224460800 => 0.7461,
	1224547200 => 0.7454,
	1224633600 => 0.7549,
	1224720000 => 0.7742,
	1224806400 => 0.7801,
	1224892800 => 0.7903,
	1224979200 => 0.7876,
	1225065600 => 0.7928,
	1225152000 => 0.7991,
	1225238400 => 0.8007,
	1225324800 => 0.7823,
	1225411200 => 0.7661,
	1225497600 => 0.785,
	1225584000 => 0.7863,
	1225670400 => 0.7862,
	1225756800 => 0.7821,
	1225843200 => 0.7858,
	1225929600 => 0.7731,
	1226016000 => 0.7779,
	1226102400 => 0.7844,
	1226188800 => 0.7866,
	1226275200 => 0.7864,
	1226361600 => 0.7788,
	1226448000 => 0.7875,
	1226534400 => 0.7971,
	1226620800 => 0.8004,
	1226707200 => 0.7857,
	1226793600 => 0.7932,
	1226880000 => 0.7938,
	1226966400 => 0.7927,
	1227052800 => 0.7918,
	1227139200 => 0.7919,
	1227225600 => 0.7989,
	1227312000 => 0.7988,
	1227398400 => 0.7949,
	1227484800 => 0.7948,
	1227571200 => 0.7882,
	1227657600 => 0.7745,
	1227744000 => 0.771,
	1227830400 => 0.775,
	1227916800 => 0.7791,
	1228003200 => 0.7882,
	1228089600 => 0.7882,
	1228176000 => 0.7899,
	1228262400 => 0.7905,
	1228348800 => 0.7889,
	1228435200 => 0.7879,
	1228521600 => 0.7855,
	1228608000 => 0.7866,
	1228694400 => 0.7865,
	1228780800 => 0.7795,
	1228867200 => 0.7758,
	1228953600 => 0.7717,
	1229040000 => 0.761,
	1229126400 => 0.7497,
	1229212800 => 0.7471,
	1229299200 => 0.7473,
	1229385600 => 0.7407,
	1229472000 => 0.7288,
	1229558400 => 0.7074,
	1229644800 => 0.6927,
	1229731200 => 0.7083,
	1229817600 => 0.7191,
	1229904000 => 0.719,
	1229990400 => 0.7153,
	1230076800 => 0.7156,
	1230163200 => 0.7158,
	1230249600 => 0.714,
	1230336000 => 0.7119,
	1230422400 => 0.7129,
	1230508800 => 0.7129,
	1230595200 => 0.7049,
	1230681600 => 0.7095
);


// convert to Unix timestamp
$min = round($_GET['min']/1000);
$max = round($_GET['max']/1000);

// build a twodimensional array of data items between min and max
$newData = array();
foreach ($data as $key => $value) {
	if ($key > $min && $key < $max) {
		$newData[] = array($key * 1000, $value);	
	}
}

// json-encode it and send it to the client
echo json_encode($newData);

?&gt;</pre>
		
		</div>
	</body>
</html>
